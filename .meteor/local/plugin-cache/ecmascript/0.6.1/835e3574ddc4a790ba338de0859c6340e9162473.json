{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/com.js","filenameRelative":"/client/com.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/com.js.map","sourceFileName":"/client/com.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"com"},"ignored":false,"code":"Template.add_com_template.events({\n    'click #addComment': function () {\n        function clickAddComment(event, template) {\n            event.preventDefault();\n            var $comment = template.find('#com').value;\n            var $postId = event.target.dataset.id;\n            var $post = posts.find($postId).fetch()[0];\n            if ($comment !== '') {\n                var $insertedObjectId = coms.insert({\n                    comment: $comment,\n                    postId: $postId,\n                    authorId: Meteor.userId(),\n                    createdAt: new Date(),\n                    author: Meteor.users.find(Meteor.userId()).fetch()[0]\n                });\n                $commentCountUpdated = $post.comment + 1;\n                posts.update({ _id: $postId }, { $set: { comment: $commentCountUpdated } });\n                template.find('#com').value = '';\n            }\n        }\n\n        return clickAddComment;\n    }()\n});","ast":null,"map":{"version":3,"sources":["/client/com.js"],"names":["Template","add_com_template","events","event","template","preventDefault","$comment","find","value","$postId","target","dataset","id","$post","posts","fetch","$insertedObjectId","coms","insert","comment","postId","authorId","Meteor","userId","createdAt","Date","author","users","$commentCountUpdated","update","_id","$set"],"mappings":"AAAAA,SAASC,gBAAT,CAA0BC,MAA1B,CACC;AACG;AAAsB,iCAAUC,KAAV,EAAiBC,QAAjB,EAA0B;AAC5CD,kBAAME,cAAN;AACA,gBAAIC,WAAWF,SAASG,IAAT,CAAe,MAAf,EAAwBC,KAAvC;AACA,gBAAIC,UAAUN,MAAMO,MAAN,CAAaC,OAAb,CAAqBC,EAAnC;AACA,gBAAIC,QAAQC,MAAMP,IAAN,CAAWE,OAAX,EAAoBM,KAApB,GAA4B,CAA5B,CAAZ;AACA,gBAAKT,aAAa,EAAlB,EAAqB;AACjB,oBAAIU,oBAAoBC,KAAKC,MAAL,CAAY;AAChCC,6BAAUb,QADsB;AAEhCc,4BAASX,OAFuB;AAGhCY,8BAAWC,OAAOC,MAAP,EAHqB;AAIhCC,+BAAW,IAAIC,IAAJ,EAJqB;AAKhCC,4BAAQJ,OAAOK,KAAP,CAAapB,IAAb,CAAkBe,OAAOC,MAAP,EAAlB,EAAmCR,KAAnC,GAA2C,CAA3C;AALwB,iBAAZ,CAAxB;AAOAa,uCAAuBf,MAAMM,OAAN,GAAgB,CAAvC;AACAL,sBAAMe,MAAN,CAAa,EAACC,KAAMrB,OAAP,EAAb,EAA6B,EAACsB,MAAK,EAACZ,SAASS,oBAAV,EAAN,EAA7B;AACAxB,yBAASG,IAAT,CAAe,MAAf,EAAwBC,KAAxB,GAAgC,EAAhC;AACH;AACJ;;AAjBD;AAAA;AADH,CADD","file":"/client/com.js.map","sourcesContent":["Template.add_com_template.events\r\n({\r\n    'click #addComment' : function (event, template){\r\n        event.preventDefault();\r\n        var $comment = template.find( '#com' ).value;\r\n        var $postId = event.target.dataset.id;\r\n        var $post = posts.find($postId).fetch()[0];\r\n        if ( $comment !== ''){\r\n            var $insertedObjectId = coms.insert({\r\n                comment : $comment,\r\n                postId : $postId,\r\n                authorId : Meteor.userId(),\r\n                createdAt: new Date(),\r\n                author: Meteor.users.find(Meteor.userId()).fetch()[0]\r\n            });\r\n            $commentCountUpdated = $post.comment + 1;\r\n            posts.update({_id : $postId},{$set:{comment: $commentCountUpdated}});\r\n            template.find( '#com' ).value = '';\r\n        }\r\n    }\r\n});"]},"hash":"835e3574ddc4a790ba338de0859c6340e9162473"}
