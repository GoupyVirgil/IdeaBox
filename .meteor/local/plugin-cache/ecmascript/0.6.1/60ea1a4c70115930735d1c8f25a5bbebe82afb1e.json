{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]},{"source":"meteor/accounts-base","imported":["Accounts"],"specifiers":[{"kind":"named","imported":"Accounts","local":"Accounts"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/login.js","filenameRelative":"/client/login.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/login.js.map","sourceFileName":"/client/login.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"login"},"ignored":false,"code":"var Template;module.import('meteor/templating',{\"Template\":function(v){Template=v}});var Accounts;module.import('meteor/accounts-base',{\"Accounts\":function(v){Accounts=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});\n\n\n\nTemplate.login_template.events({\n    'click #registration': function () {\n        function clickRegistration(event, template) {\n            event.preventDefault();\n            Router.go('/registration');\n        }\n\n        return clickRegistration;\n    }(),\n\n    'click #connexion': function () {\n        function clickConnexion(event, template) {\n            var $firstname = template.find(\"#firstname\");\n            var $password = template.find(\"#password\");\n            Meteor.loginWithPassword($firstname.value, $password.value, function (err) {\n                if (err) {\n                    Session.set('errorMessage', err.message);\n                } else {\n                    Session.set('currentUserId', Meteor.userId());\n                    Router.go('/comment');\n                }\n            });\n        }\n\n        return clickConnexion;\n    }()\n});","ast":null,"map":{"version":3,"sources":["/client/login.js"],"names":["Template","Accounts","Meteor","login_template","events","event","template","preventDefault","Router","go","$firstname","find","$password","loginWithPassword","value","err","Session","set","message","userId"],"mappings":"AAAA,SAASA,QAAT,QAAyB,mBAAzB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,MAAT,QAAuB,eAAvB;;AAEAF,SAASG,cAAT,CAAwBC,MAAxB,CACE;AACE;AAAwB,mCAAUC,KAAV,EAAiBC,QAAjB,EACxB;AACID,kBAAME,cAAN;AACAC,mBAAOC,EAAP,CAAU,eAAV;AACH;;AAJD;AAAA,OADF;;AAOE;AAAqB,gCAAUJ,KAAV,EAAiBC,QAAjB,EACrB;AACI,gBAAII,aAAaJ,SAASK,IAAT,CAAe,YAAf,CAAjB;AACA,gBAAIC,YAAYN,SAASK,IAAT,CAAe,WAAf,CAAhB;AACAT,mBAAOW,iBAAP,CAAyBH,WAAWI,KAApC,EAA2CF,UAAUE,KAArD,EAA4D,UAASC,GAAT,EAAa;AACrE,oBAAIA,GAAJ,EAAS;AACLC,4BAAQC,GAAR,CAAY,cAAZ,EAA4BF,IAAIG,OAAhC;AACH,iBAFD,MAEO;AACHF,4BAAQC,GAAR,CAAa,eAAb,EAA8Bf,OAAOiB,MAAP,EAA9B;AACAX,2BAAOC,EAAP,CAAU,UAAV;AACH;AACJ,aAPD;AAQH;;AAZD;AAAA;AAPF,CADF","file":"/client/login.js.map","sourcesContent":["import { Template } from 'meteor/templating';\r\nimport { Accounts } from 'meteor/accounts-base'\r\nimport { Meteor } from 'meteor/meteor'\r\n\r\nTemplate.login_template.events\r\n( {\r\n    'click #registration' : function( event, template)\r\n    {\r\n        event.preventDefault();\r\n        Router.go('/registration');\r\n    },\r\n\r\n    'click #connexion' : function (event, template)\r\n    {\r\n        var $firstname = template.find( \"#firstname\" );\r\n        var $password = template.find( \"#password\" );\r\n        Meteor.loginWithPassword($firstname.value, $password.value, function(err){\r\n            if (err) {\r\n                Session.set('errorMessage', err.message );\r\n            } else {\r\n                Session.set( 'currentUserId', Meteor.userId() );\r\n                Router.go('/comment');\r\n            }\r\n        });\r\n    }\r\n});"]},"hash":"60ea1a4c70115930735d1c8f25a5bbebe82afb1e"}
